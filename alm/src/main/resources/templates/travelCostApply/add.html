<form id="_form" class="easyui-form" method="post" fit="true">
	<input name="_id" id="_id" type="hidden">
	<table width="700px">
		<tr>
			<td style="padding: 5px;">
				<select class="easyui-combobox" name="projectId" id="projectId" style="width: 300px"
					data-options="label:'项目:'" required="true"> <%for(item in projects){%>
						<option value="${item.id!}">${item.name!}</option> <%}%>
				</select>
			</td>
			<td style="padding: 5px;">
				<input class="easyui-textbox" style="width: 300px" value="${user.realName!}"
				data-options="label:'申请人:',readonly:true" />
			</td>
		</tr>
		</tr>
		<tr>
			<td style="padding: 5px;">
				<input class="easyui-textbox" value="${department.name!}" style="width: 300px"
				data-options="label:'申请部门:',readonly:true" /></td>
			<td style="padding: 5px;">
				<input class="easyui-textbox" value="${rootDepartment.name}" style="width: 300px"
				data-options="label:'所属中心:',readonly:true" /></td>
		</tr>
	</table>
	<table class="easyui-datagrid" style="width:100%;height: 300px"  title="出差人员列表" id="travelCostGrid"
		   fitColumns="true" rownumbers="true" remoteSort="false"
		loadMsg="数据加载中..." singleSelect="true" align="center"  toolbar="#travelCostGridToolbar" idField="id"
		data-options="onEndEdit:onTravelCostGridEndEdit">
		<thead>
			<tr>
				<th
					data-options="field:'travelDayAmount',   sortable:'true', order:'asc', align:'center', resizable:'true', fixed:'false',
								editor : {
									type : 'numberbox',
									options : {
										required : true,
										missingMessage : '请输入天数'
									}
								}">出差天数2</th>
				<th
					data-options="field:'setOutPlace', width:90,  sortable:'true', order:'asc', align:'center', resizable:'true', fixed:'false',
								formatter:function(index,row,value){
									return row.setOutPlaceText;
								},
								editor : {
									type : 'textbox',
									options : {
										required : true,
										missingMessage : '请选择出发地',
										buttonText:'选择',
										editable:false,
										onClickButton:function(){
											selectArea('setOutPlace');
										}
									}
								}">出发地</th>
				<th
					data-options="field:'destinationPlace', width:100,  sortable:'true', order:'asc', align:'center', resizable:'true', fixed:'false',
								formatter:function(index,row,value){
									return row.destinationPlaceText;
								},
								editor : {
									type : 'textbox',
									options : {
										required : true,
										missingMessage : '请选择出发地',
										buttonText:'选择',
										editable:false,
										onClickButton:function(){
											selectArea('destinationPlace');
										}
									}
								}">到达地</th>
				<%for(item in costItems){%>
				<th
					data-options="field:'${item.key!}',   sortable:'true', order:'asc', align:'center', resizable:'true', fixed:'false',
								editor : {
									type : 'numberbox',
									options : {
										precision:2,
										missingMessage : '请输入金额'
									}
								}">${item.value!}</th>
				<%}%>
				<th data-options="field:'totalAmount',   sortable:'true', order:'asc', align:'center', resizable:'true', fixed:'false'">合计</th>
			</tr>
		</thead>
	</table>
	<div style="padding-top:10px;text-align: right">
		<input class="easyui-numberbox" type="text" id="totalAmount" name="totalAmount"
			   data-options="
				label:'总计：',
				width:200,
				required:true,
				precision:2,
				missingMessage : '请输入金额'"> 元
	</div>

</form>
<div id="travelCostGridToolbar" style="padding: 2px 5px;">
	<a href="#" class="easyui-linkbutton" iconCls="icon-add" onclick="addCostItem()" plain="true"></a> <a href="#" class="easyui-linkbutton"
		iconCls="icon-remove" onclick="removeCostItem()" plain="true"></a>
</div>