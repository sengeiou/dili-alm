<#body>
<style>
    .panel-tool{
        top:9px;
        height: 24px;
    }
    .project-box{
        width: 100%;
        height: 330px;
        margin-top: 20px;
    }
    .task-left,.task-right{
        float: left;
        box-sizing: border-box;
        height: 370px;

    }
    .task-left{
        width: 40%;
    }
    .task-right{
        width: 60%;
    }
    .textbox .textbox-text{
        color: #999;
    }
</style>
<div class="easyui-panel" style="width: 100%;height: 100%;" title="任务总览">
    <div style="box-sizing:border-box;height: 100%;width: 100%;padding: 10px;">
        <div class="easyui-layout" style="box-sizing:border-box;width:100%;height:100%;">
            <!--工具栏-->
            <div id="infoToolbar">
                <a href="#" class="easyui-linkbutton"
                   style="width: 40px;height: 24px; text-align: center;text-decoration: none;color: #000;border: 1px solid #ccc;border-radius: 3px;background: #ecf2ef">
                    打印
                </a>
                <a href="#" class="easyui-linkbutton"
                   style="width: 80px;height: 24px; margin-right:3px;text-align: center;text-decoration: none;color: #000;border: 1px solid #ccc;border-radius: 3px;background: #ecf2ef">
                    导出EXCEL
                </a>
                <select class="easyui-combobox" name="state" style="width:100px;height: 24px;color: #999">
                    <option value="AL">项目</option>
                    <option value="AK">Alaska</option>
                    <option value="AZ">Arizona</option>
                </select>
                <a href="#" class="easyui-linkbutton"
                   style="width: 80px;height: 24px; text-align: center;text-decoration: none;color: #000;border: 1px solid #ccc;border-radius: 3px;background: #ecf2ef">
                    最近7天
                </a>
                <a href="#" class="easyui-linkbutton"
                   style="width: 80px;height: 24px; margin-right:3px;text-align: center;text-decoration: none;color: #000;border: 1px solid #ccc;border-radius: 3px;background: #ecf2ef">
                    最近30天
                </a>
                <input class="easyui-datebox" name="endDate" id="endDate" style="width:100px;height:24px;margin-left: 5px"
                       data-options=""/>
                <span style="display: inline-block;width: 20px;text-align: center;color: #999">至</span>
                <input class="easyui-datebox" name="endDate" id="endDate2" style="width:100px;height:24px;margin-left: 5px"
                       data-options=""/>
                <a href="#" class="easyui-linkbutton"
                   style="width: 60px;height: 24px; text-align: center;text-decoration: none;color: #000;border: 1px solid #ccc;border-radius: 3px;background: #ecf2ef">
                    查询
                </a>
            </div>
            <!--任务数据列表-->
            <div data-options="region:'center',collapsible:false,split:true,tools:'#infoToolbar'" style="height:100%" title="数据列表">
                <table class="easyui-datagrid" style="width: 100%"
                       data-options="singleSelect:true,collapsible:true,url:'${contextPath}/resources/echarts/datagrid_data1.json',method:'get',"
                       pagination="true" pageSize="30" pageNumber="1" >
                    <thead>
                    <tr>
                        <th data-options="field:'productid',width:'17%',align:'center'">任务名</th>
                        <th data-options="field:'itemid',width:'17%',align:'center'">项目名</th>
                        <th data-options="field:'listprice',width:'17%',align:'center'">责任人</th>
                        <th data-options="field:'unitcost',width:'17%',align:'center'">版本</th>
                        <th data-options="field:'attr1',width:'17%',align:'center'">阶段</th>
                        <th data-options="field:'status',width:'15%',align:'center'">任务状态</th>
                    </tr>
                    </thead>
                </table>
                <!--任务列表-->
                <div style="height: 420px;margin-top: 20px">
                    <div class="task-left">
                        <table class="easyui-datagrid" style="width: 100%"
                               data-options="singleSelect:true,collapsible:true,url:'${contextPath}/resources/echarts/datagrid_data1.json',method:'get'">
                            <thead>
                            <tr>
                                <th data-options="field:'productid',width:'50%',align:'center'">状态</th>
                                <th data-options="field:'itemid',width:'50%',align:'center'">任务数</th>
                            </tr>
                            </thead>
                        </table>
                    </div>
                    <!--任务图表-->
                    <div id="task" class="task-right"></div>
                    <div style="height: 20px"></div>
                </div>
            </div>

        </div>
    </div>
</div>
<script src="${contextPath}/resources/echarts/echarts.common.min.js"></script>
<script>

    //任务图表
    var data1 = {
        legendData: ['未开始', '进行中', '已完成', '暂停中', '已关闭'],//项目图例
        seriesData: [//项目数据
            { name: '未开始', value: 3 },
            { name: '进行中', value: 8 },
            { name: '已完成', value: 13 },
            { name: '暂停中', value: 4 },
            { name: '已关闭', value: 6 }
        ]
    };
    /* 任务 option */
    var taskoption = {
        title: {
            text: '',
            x: 'left',
            textStyle:{
                fontSize:14
            }
        },
        tooltip: {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c} ({d}%)"
        },
        legend: {
            // orient: 'vertical',
            left: 'center',
            bottom: '0',
            data: data1.legendData //项目图例
        },
        series: [{
            name: '任务状况',
            type: 'pie',
            // radius: '75%',//显示为普通饼图
            radius: [20, 110],//显示为环状图
            roseType: 'radius',//去除此项为普通饼图
            center: ['50%', '43%'],
            label: {
                show: false,
                normal: {
                    // formatter: '{a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}  ',
                    formatter: ' {b|{b}：}{c}  {per|{d}%}  ',
                    backgroundColor: '#eee',
                    borderColor: '#aaa',
                    borderWidth: 1,
                    borderRadius: 4,
                    rich: {
                        a: {
                            color: '#999',
                            lineHeight: 22,
                            align: 'center'
                        },
                        hr: {
                            borderColor: '#aaa',
                            width: '100%',
                            borderWidth: 0.5,
                            height: 0
                        },
                        b: {
                            // fontSize: 16,
                            lineHeight: 33
                        },
                        per: {
                            color: '#eee',
                            backgroundColor: '#334455',
                            padding: [2, 4],
                            borderRadius: 2
                        }
                    }
                }
            },
            data: data1.seriesData,//项目图表数据
            itemStyle: {
                emphasis: {
                    shadowBlur: 10,
                    shadowOffsetX: 0,
                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                }
            }
        }]
    };

    echarts.init(document.getElementById('task')).setOption(taskoption);



</script>

</#body>
